{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const createGalleryCardTemple = images=> {\n    return images\n        .map(\n            ({ webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads }) =>\n                    \n        `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n        <div class = \"img-card\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          <div class=\"img-info\">\n            <p class=\"img-info-item\">Likes<span>${likes}</span></p>\n            <p class=\"img-info-item\">Views<span>${views}</span></p>\n            <p class=\"img-info-item\">Comments<span>${comments}</span></p>\n            <p class=\"img-info-item\">Downloads<span>${downloads}</span></p>\n          </div>\n          </div>\n        </a>`\n        )\n        .join('');\n    \n}\n\n\n\n","const API_KEY = '48239935-17beded8a236fb1397b75b1c0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport function fetchPhotos(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url)\n    .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n    })\n    // .then(data => { console.log(data); })\n    .catch(error => {\n      // if (error.message == 404) { alert('Sorry, there are no images matching your search query. Please try again!'); }\n      console.error('Error fetching images;', error); \nthrow error;\n      \n\n   });\n\n}\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n import { createGalleryCardTemple } from './js/render-functions';\n import { fetchPhotos } from \"./js/pixabay-api\";\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst load = document.querySelector('.load');\n\n\nload.style.display = 'none';\n\nfunction onSearch(event) {\n    event.preventDefault();\n    \n    gallery.innerHTML = '';\n    load.style.display = 'block';\n    const query = input.value.trim();\n  \n    if (query === '') {\n        load.style.display = 'none';\n        iziToast.warning({\n      title: 'Warning',\n            message: 'Please enter a search query!',\n    });\n    return;\n    }\n\n    \n    fetchPhotos(query) \n        .then(data => {\n             load.style.display = 'none';\n            if (data.hits.length === 0) {\n                iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n                });\n                form.reset();\n          return;\n            \n            }\n\n            const markup = createGalleryCardTemple(data.hits);\n            gallery.insertAdjacentHTML('beforeend', markup);  \n\n            const lightbox = new SimpleLightbox('.gallery-item', {\n               captions: true,\n               captionsData: 'alt',\n               captionDelay: 250,\n            });\n            lightbox.refresh(); \n            form.reset();\n        })\n        .catch(() => { error => load.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to load images. Please try again later.',\n      });\n    });\n}\n\nform.addEventListener('submit', onSearch);"],"names":["createGalleryCardTemple","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","fetchPhotos","query","url","response","error","form","input","gallery","load","onSearch","event","iziToast","data","markup","SimpleLightbox"],"mappings":"6vBAGO,MAAMA,EAA0BC,GAC5BA,EACF,IACG,CAAC,CAAE,aAAAC,EACC,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAAW,IAEnB,YAAYL,CAAa;AAAA;AAAA,sBAEXD,CAAY,UAAUE,CAAI;AAAA;AAAA,kDAEEC,CAAK;AAAA,kDACLC,CAAK;AAAA,qDACFC,CAAQ;AAAA,sDACPC,CAAS;AAAA;AAAA;AAAA,aAItD,EACA,KAAK,EAAE,EC1BVC,EAAU,qCACVC,EAAW,2BAGV,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DACvE,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAK,EAEA,MAAMC,GAAS,CAEd,cAAQ,MAAM,yBAA0BA,CAAK,EAC7CA,CAGN,CAAI,CAEJ,CCdA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,MAAM,QAAU,OAErB,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEpBH,EAAQ,UAAY,GACpBC,EAAK,MAAM,QAAU,QACrB,MAAMP,EAAQK,EAAM,MAAM,KAAI,EAE9B,GAAIL,IAAU,GAAI,CACdO,EAAK,MAAM,QAAU,OACrBG,EAAS,QAAQ,CACnB,MAAO,UACD,QAAS,8BACrB,CAAK,EACD,MACC,CAGDX,EAAYC,CAAK,EACZ,KAAKW,GAAQ,CAEV,GADCJ,EAAK,MAAM,QAAU,OAClBI,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACrB,MAAO,QACP,QACE,0EACZ,CAAiB,EACDN,EAAK,MAAK,EAChB,MAEG,CAED,MAAMQ,EAASxB,EAAwBuB,EAAK,IAAI,EAChDL,EAAQ,mBAAmB,YAAaM,CAAM,EAE7B,IAAIC,EAAe,gBAAiB,CAClD,SAAU,GACV,aAAc,MACd,aAAc,GAC7B,CAAa,EACQ,QAAO,EAChBT,EAAK,MAAK,CACtB,CAAS,EACA,MAAM,IAAM,CACfM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACjB,CAAO,CACP,CAAK,CACL,CAEAN,EAAK,iBAAiB,SAAUI,CAAQ"}